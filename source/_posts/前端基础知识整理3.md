---
title: CSS 网格布局知识1
categories:
- 技术
- 前端基础知识
- 网格布局
tags:
- CSS
- 网格布局
---



#### 2.1 网格布局知识

> CSS Grid(网格) 布局使我们能够比以往任何时候都可以更灵活构建和控制自定义网格。 Grid(网格) 布局使我们能够将网页分成具有简单属性的行和列。它还能使我们在不改变任何HTML的情况下，使用 CSS 来定位和调整网格内的每个元素。它允许 HTML 纯粹作为内容的容器。HTML 结构不再受限于样式表现，比如不要为了实现某种布局而多次嵌套，现在这些都可以让 CSS 来完成。

##### 浏览器兼容性

>对于大多数布局，我们会使用下面的query特性来让老的浏览器对他们理解的特性也能工作：

```CSS
@supports (display: grid) {
    .grid {
        display: grid;
    }
}
```
>不支持浏览器@supports或网格的浏览器将不会生效。

<!--more-->

##### 创建带有间距（gutter）的两列（column）网格

>[使用grid-template-columns 和 grid-gap创建带间距的两列布局]

为了创建上述网格布局，我们需要使用grid-template-columns和grid-gap。
grid-template-columns表示网格中的列是如何布局的，它的值是一连串以空格分割的的值，这些值标识每列的大小，值的个数表示列的数目。

例如，四列250px宽度的网格布局可以这样表示：

```CSS
grid-template-columns: 250px 250px 250px 250px;
```

也可以使用repeat关键字表示：
```CSS
grid-template-columns: repeat(4, 250px);
```
###### 定义间距

grid-gap定义了网格布局的间距大小，接收一个或两个值，如果定义两个值则表示列（column）和行（row）的间距大小。

在两列布局示例中，我们可以如下使用：


```CSS
.grid {
  display: grid;
  grid-template-columns: 50vw 50vw;
  grid-gap: 1rem;
}
```

不幸的是，这个间距将会占用容器元素的整体宽度，计算出来就是100vw + 1rem，最终这个布局会导致出现水平滚动条。

为了解决这个空间溢出问题，我们需要些不同的方法来处理，需要用分数单位或者说是FR。

分数单位标识占用可用空间的份额，如果900px是可用空间，其中的一个元素占有1份，另外的元素占有2份——那么第一个元素的宽度会是900px的1/3，另外的元素是900px的2/3。
修改后用分数代替view-port单位的新代码如下：

```CSS
.grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  grid-gap: 1rem;
}
```

###### 内容对齐

为了对齐示例中的内容，我们在子元素上使用grid布局，并加上对齐属性来定位他们到指定轨道(track)，轨道就是一个网格的列或行的某个位置的常见的名称。网格跟Flex布局一样，有一系列对齐的属性——共有四种值——start, center, end, 和stretch，分别对应其子元素所在的轨道。stretch跟其他不太一样，它会将元素从所在轨道的头拉伸到尾。

[align-items 和 justify-content]

例子中我们要将内容水平和垂直居中，可以通过在容器上设置下面这些属性：
```CSS
.center-content {
    display: grid;
    align-items: center;
    justify-content: center;
}
```

###### 通过CSS网格实现内边距（Negative Space）

网格布局允许你通过grid-column-start属性指定列开始的位置，所以就有了可以在网格内创建内边距的可能性。
[使用grid-template-columns和grid-column-start创建内边距]

在上面的内边距示例中，html结构中用一个div包裹另外一个div：
```html
<div class="grid">
    <div class="child"><!-- 内容 --></div>
</div
```
网格像这样设置：


```CSS
.child {
    grid-column-start: 2;
}
```


###### 创建行

如果我们想分割布局为四份，我们目前所了解的关于列的布局方式对行同样有效：

```CSS
.grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    grid-template-rows: 250px 250px;
}
```

理想情况下这个示例是没问题的。因为此时每个网格项的内容足够少而不会撑开每行。但随着内容的变化，一切都不一样了。当示例中的内容超出指定行的大小后，看下会发生什么：

[内容超出声明的行高]

我们创建了250px高的两行，如果内容超过每行的高度，将会打破布局并和后面的行的内容重叠。并不是一个我们想要的结果。

###### 灵活的设置最小值

我们在该场景下需要的是设置最小尺寸的能力，但又要允许尺寸可以根据内容弹性变化。这里我们通过上面旧浏览器示例中的minmax关键字实现。

```CSS
.grid {
    grid-template-rows: minmax(250px, auto) minmax(250px, auto);
}
```


现在我们已经了解了创建带有内容的行的基础方法，我们开始来创建水平和垂直交错的更复杂网格布局。


[使用grid-column-start和span关键字创建复杂网格布局Unsplash]


```CSS
.span-column-3 {
    grid-column-start: span 3;
}
```

##### 不需要媒体查询（media queries）的弹性网格

虽然上面说到的例子能在可用空间内适应变化，但是没有一个是专门为空间变化设计的。网格有两个非常有用的特性来适应可用空间的变化。这两个属性叫‘auto-fit’和‘auto-fill’，像下面这样结合repeat function和minmax function使用：


```CSS
grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
```

auto-fill的表现跟auto-fit类似，但是任何的空白空间都会自动收缩，同时这一行的元素也会被拉升——类似flexbox的效果，列会随着可用空间变小发生折叠。